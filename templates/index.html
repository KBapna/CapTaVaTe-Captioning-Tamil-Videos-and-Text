<!DOCTYPE html>
<html data-wf-page="645f5aba4f8e6541f33d9e3e"
    data-wf-site="645f5aba4f8e6541f33d9dc5" data-wf-status="1">

<head>
    <meta charset="utf-8" />
    <title>EPICS</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="{{ url_for('static', filename='css/style.css') }}"
        rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script
        type="text/javascript">WebFont.load({ google: { families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "Exo:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Roboto:300,regular,500"] } });</script>
    <script
        type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
</head>

<body>
    <div data-collapse="medium" data-animation="default" data-duration="400" id="title" data-easing="ease"
        data-easing2="ease" role="banner" class="navigation-bar w-nav">
        <div class="container w-container"><a href="/" aria-current="page" class="brand-link w-nav-brand w--current">
                <h1 class="brand-text">EPICS By Group 110</h1>
            </a>
            <nav role="navigation" class="navigation-menu w-nav-menu"><a href="/" aria-current="page"
                    class="navigation-link w-nav-link w--current">Home</a><a href="/about"
                    class="navigation-link w-nav-link">About</a><img
                    src="{{ url_for('static', filename='images/VITLogo.png') }}"
                    loading="lazy" width="98" alt="" class="image" /></nav>
            <div class="hamburger-button w-nav-button">
                <div class="icon w-icon-nav-menu"></div>
            </div>
        </div>
    </div>
    <div class="hero-section centered wf-section">
        <div data-w-id="e464d218-f801-55d1-1f50-7da00b5bfb8f" style="opacity:0" class="container-2 w-container">
            <h1 data-ix="fade-in-bottom-page-loads" class="hero-heading">Automatic Captioning of Videos</h1>
            <div data-ix="fade-in-bottom-page-loads" class="hero-subheading">Study on Tamil</div>
            <div data-ix="fade-in-bottom-page-loads" class="div-block"><a href="#2"
                    data-w-id="6c5fe302-eed3-af1b-d96a-bec7a6fc5033" class="button">Get Started</a></div>
        </div>
    </div>
    <div id="1" class="section wf-section">
        <div class="w-container">
            <div data-w-id="6703d70c-e1f4-7515-c2e6-d98f319d2499" style="opacity:0" class="section-title-group">
                <h2 class="section-heading centered">Usage Description</h2>
                <div class="section-subheading center">Here are the steps on How to properly use this tool.</div>
            </div>
            <div class="w-row">
                <div class="w-col w-col-4">
                    <div data-w-id="270e8437-efa3-df11-d438-de69b23e41e9" style="opacity:0" class="white-box"><img
                            src="{{ url_for('static', filename='images/white.svg') }}"
                            data-w-id="d46f2e18-2e29-c4a2-c521-d8235bd2011f" alt="" class="grid-image" />
                        <h3 class="heading-4">Upload</h3>
                        <p class="paragraph">Upload your video file in .mp4 format containing either Hindi or English
                            audio.</p>
                    </div>
                </div>
                <div class="w-col w-col-4">
                    <div data-w-id="29c25774-570b-ddb2-69b5-f4ddbb194afd" style="opacity:0" class="white-box"><img
                            src="{{ url_for('static', filename='images/white.svg') }}"
                            data-w-id="35c2e3c2-3cbe-1bd5-836d-4f1f64c860dd" alt="" class="grid-image" />
                        <h3 class="heading-3">Wait</h3>
                        <p class="paragraph-2">Wait for some time for the translation and encoding process to finish.
                        </p>
                    </div>
                </div>
                <div class="w-col w-col-4">
                    <div data-w-id="49e69b8a-ef40-4d84-1f92-d2617143b8db" style="opacity:0" class="white-box"><img
                            src="{{ url_for('static', filename='images/white.svg') }}"
                            width="210" data-w-id="826c14c1-6fa2-7e17-3b36-f8bf454edf9a" alt="" class="grid-image" />
                        <h3 class="heading-2">Download</h3>
                        <p class="paragraph-3">Download your video with translated Tamil captions.<br />‚Äç</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="2" class="section accent wf-section">
        <div class="w-container">
            <div data-w-id="8f48f312-834c-d795-9ae3-252d0ba5507e" style="opacity:0" class="section-title-group">
                <h2 class="section-heading centered white">Upload Your file</h2>
                <div class="section-subheading center off-white">Only .MP4 format supported.</div>
            </div>
        </div>
        <div class="container-5 w-container">            
            <input type="file" class="custom-file-input" id="file_input" oninput="input_filename()">
            <label for="file_input" id="file_input_label" class="custom-file-label">Select File</label>
            <div class="d-none" id="progress_wrapper">
                <label id="progress_status">50% Uploaded</label>
                <div class="progress mb-3">
                <div id="progress" class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            </div>
            <div id="alert_wrapper"></div>
        </div>
        <div class="container-6 w-container">
            <button onclick="upload('{{ request.url }}')" id="upload_btn" class="btn-primary">Upload</button>
            <button class=" btn btn-primary d-none" id="loading_btn" type="button" disabled>
                <span class="spinner-border spinner-boader-sm" role="status" aria-hidden="true"></span>
                Translating....
            </button>
            <button class=" btn btn-primary d-none" onclick="downloadFile()" id="download_btn" class="btn-download" type="button">Download</button>
        </div>

    <script>
        var progress = document.getElementById("progress");
        var progress_wrapper = document.getElementById("progress_wrapper");
        var progress_status = document.getElementById("progress_status");

        var download_btn = document.getElementById("download_btn")
        var upload_btn = document.getElementById("upload_btn");
        var loading_btn = document.getElementById("loading_btn");
        
        var alert_wrapper = document.getElementById("alert_wrapper");
        var input = document.getElementById("file_input");
        var file_input_label = document.getElementById("file_input_label");

        function show_alert (message, alert) {
          alert_wrapper.innerHTML = `
            <div class="alert alert-$(alert) alert-dismissible fade show" role="alert">
                <span>${message}</span>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            `;
        };   

        function input_filename() {
            file_input_label.innerText = input.files[0].name;
        }

        function upload(url) {
            if(!input.value) {
                show_alert("No File selected", "warning");
            return;
            }
        var data  = new FormData();
        var request  = new XMLHttpRequest();
        request.responseType = "json";
        alert_wrapper.innerHTML = "";
        input.disabled = true;
        upload_btn.classList.add("d-none");
        loading_btn.classList.remove("d-none");
        progress_wrapper.classList.remove("d-none");

        var file = input.files[0];
        var filename = file.name;
        var filesize = file.size;
        document.cookie = `filesize=${filesize}`;
        data.append("file", file);
        request.upload.addEventListener("progress", function(e) {
            var loaded = e.loaded;
            var total = e.total;
            var percentage_complete = (loaded / total) * 100;
            progress.setAttribute("style", `width: ${Math.floor(percentage_complete)}%`);
            progress_status.innerText= `${Math.floor(percentage_complete)}% uploaded` ;
        }) 

        request.addEventListener("load", function(e) {
            if (request.status == 200) {
                show_alert(`${request.response.message}`, "success");
                input.value=null;
                loading_btn.classList.add("d-none");
                progress_wrapper.classList.add("d-none");
                progress.setAttribute("style", "width: 0%");
                download_btn.classList.remove("d-none");

            }
            else{
                show_alert(`Error Uploading File`, "ERROR");
                reset();
            }

        })

        request.addEventListener("error", function(e) {
            reset();
            show_alert(`Error Uploading File`, "ERROR");
        })
        request.open("post", url);
        request.send(data);

        }

        function downloadFile() {
            window.location.href = "/download/captioned_storage.mp4";
            reset();
        }

        function reset () {
            input.value=null;
            input.disabled=false;
            loading_btn.classList.add("d-none");
            upload_btn.classList.remove("d-none");
            download_btn.classList.add("d-none");
            progress_wrapper.classList.add("d-none");
            progress.setAttribute("style", "width: 0%");
            file_input_label,innerText = "Select File";
        }

    </script>

            
    </div>
    </div>
    <div class="footer wf-section">
        <div class="w-container">
            <div class="w-row">
                <div class="spc w-col w-col-4">
                    <h5 class="heading">CapTaVaTe</h5>
                    <p class="paragraph-4">CapTaVate offers a language transformation service that allows you to convert videos with English audio into Tamil audio. This makes content more accessible and inclusive. We also add accurate captions to the videos to enhance comprehension for all viewers. Our goal is to bridge language barriers and unlock the potential of audio-visual content.</p>
                </div>
                <div class="spc w-col w-col-4">
                    <h5>useful links</h5><a href="https://openai.com/" class="footer-link">OPEN AI</a><a href="https://github.com/openai/whisper"
                        class="footer-link">Whisper</a><a href="https://www.python.org/" class="footer-link">Python</a><a href="https://translate.google.co.in/"
                        class="footer-link">Google Translate</a>
                </div>
                <div class="w-col w-col-4">
                    <h5>social</h5>
                    <div class="footer-link-wrapper w-clearfix"><img
                            src="{{ url_for('static', filename='images/twitter.svg') }}"
                            width="20" alt="" class="info-icon" /><a href="https://twitter.com/"
                            class="footer-link with-icon">Twitter</a></div>
                    <div class="footer-link-wrapper w-clearfix"><img
                            src="{{ url_for('static', filename='images/facebook.svg') }}"
                            width="20" alt="" class="info-icon" /><a href="https://www.facebook.com/"
                            class="footer-link with-icon">Facebook</a></div>
                    <div class="footer-link-wrapper w-clearfix"><img
                            src="{{ url_for('static', filename='images/pinterest.svg') }}"
                            width="20" alt="" class="info-icon" /><a href="https://in.pinterest.com/"
                            class="footer-link with-icon">Pinterest</a></div>
                    <div class="footer-link-wrapper w-clearfix"><img
                            src="{{ url_for('static', filename='images/google.svg') }}"
                            width="20" alt="" class="info-icon" /><a href="https://www.google.com/"
                            class="footer-link with-icon">Google</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer center wf-section">
        <div class="w-container">
            <div class="footer-text">Copyright CapTaVaTe Inc.</div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=645f5aba4f8e6541f33d9dc5"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"
        type="text/javascript"></script>
</body>

</html>
